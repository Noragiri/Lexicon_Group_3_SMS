{% extends "base/base.html" %} {% load static %}
<!-- Load the static template tag -->

{% block title %}{{ username }}'s Profile{% endblock %} {% block content %}
<div class="container mt-4">
	<!-- Profile Header -->
	<div class="row align-items-center">
		<div class="col-md-3 text-center">
			{% if profile_pic %}
			<img src="{{ profile_pic }}" alt="{{ username }}'s Profile Picture" class="img-fluid rounded-circle"
				style="width: 150px; height: 150px; object-fit: cover" />
			{% else %}
			<img src="{% static 'img/user-icon.png' %}" alt="Default Profile Picture" class="img-fluid rounded-circle"
				style="width: 150px; height: 150px; object-fit: cover" />
			{% endif %}
		</div>
		<div class="col-md-9">
			<h2 class="display-5">{{ username }}</h2>
			<p class="text-muted">{{ about }}</p>
			<p><a href="mailto:{{ email }}" class="text-decoration-none">{{ email }}</a></p>
		</div>
	</div>

	<hr class="my-4" />

	<!-- User Posts -->
	<div class="row">
		<div class="col">
			<h3 class="mb-3">{{ username }}'s Posts</h3>
			{% if user_posts %}
			<div class="list-group">
				{% for post in user_posts %}
				<div class="list-group-item">
					<div class="list-group-item">
						<p class="mb-1"><a href="{% url 'social_app:view_post' post.id %}"
								class="text-decoration-none">{{ post.content|truncatechars:50 }}</a></p>
						{% if post.image %}
						<img src="{{ post.image.url }}" class="img-fluid rounded mb-2" alt="Post Image"
							style="max-height: 200px; object-fit: cover" />
						{% endif %}
						<small class="text-muted">Posted on {{ post.created_at|date:"F j, Y" }}</small>
					</div>
				</div>
				{% endfor %}
			</div>
			{% else %}
			<p class="text-muted">{{ username }} has no posts yet.</p>
			{% endif %}
		</div>
	</div>
</div>
{% endblock %}